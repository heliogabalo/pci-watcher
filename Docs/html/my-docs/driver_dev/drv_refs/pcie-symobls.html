<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PCIe Symobls &mdash; Linux Test Project 1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/custom.css" />

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
        <script src="../../../_static/js/pathTruncator.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Deadline IO scheduler tunables" href="deadline-iosched.html" />
    <link rel="prev" title="Briefing: Memory-Mapped I/O vs. I/O Ports" href="mmioVsIOports.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            Linux Test Project
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">For users</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../users/quick_start.html">Installation and tests execution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../users/setup_tests.html">Tests setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../users/supported_systems.html">Supported systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../users/stats.html">Statistics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../users/test_catalog.html">Test catalog</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For developers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../developers/setup_mailinglist.html">Setting up the Mailing list</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers/writing_tests.html">Writing tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers/test_case_tutorial.html">Test case tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers/api_c_tests.html">LTP C API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers/api_shell_tests.html">LTP shell API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers/api_network_tests.html">Developing using network API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers/api_kvm_tests.html">Developing using KVM API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers/ltp_library.html">LTP Library guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers/build_system.html">Build system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers/debugging.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers/documentation.html">Documentation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For maintainers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../maintainers/patch_review.html">Patch review</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../maintainers/ltp_release_procedure.html">Release process</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Custom Documents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Welcome to the Project Documentation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Linux Test Project</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Welcome to the Project Documentation</a></li>
      <li class="breadcrumb-item active">PCIe Symobls</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/my-docs/driver_dev/drv_refs/pcie-symobls.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="pcie-symobls">
<h1>PCIe Symobls<a class="headerlink" href="#pcie-symobls" title="Permalink to this heading"></a></h1>
<p>In the context of PCI Express (PCIe) and the Linux kernel, <strong>MMCFG</strong> stands for <em>Memory-Mapped Configuration Space</em>. It refers to the mechanism used by the PCIe specification to access the configuration space of PCIe devices.</p>
<section id="what-is-mmcfg">
<h2>What is MMCFG?<a class="headerlink" href="#what-is-mmcfg" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>PCIe devices have a <em>configuration space</em>, which is a set of registers used to configure and control the device.</p></li>
<li><p>In traditional PCI, the configuration space is accessed using I/O ports (e.g., <code class="docutils literal notranslate"><span class="pre">CONFIG_ADDRESS</span></code> and <code class="docutils literal notranslate"><span class="pre">CONFIG_DATA</span></code> ports).</p></li>
<li><p>In PCIe, the configuration space is accessed via <code class="docutils literal notranslate"><span class="pre">memory-mapped</span> <span class="pre">I/O</span> <span class="pre">(MMIO)</span></code>. This is called the <em>MMCFG (Memory-Mapped Configuration)</em> mechanism.</p></li>
<li><p>The MMCFG region is a portion of the system’s physical memory address space reserved for accessing PCIe configuration space. The base address of this region is typically defined in the system’s ACPI tables (e.g., the <cite>MCFG</cite> table).</p></li>
</ul>
</section>
<section id="how-mmcfg-works">
<h2>How MMCFG Works<a class="headerlink" href="#how-mmcfg-works" title="Permalink to this heading"></a></h2>
<ol class="arabic simple">
<li><p>The firmware (e.g., <em>BIOS</em> or <em>UEFI</em>) provides the base address of the MMCFG region in the ACPI <code class="docutils literal notranslate"><span class="pre">MCFG</span></code> table.</p></li>
<li><p>The operating system (e.g., Linux kernel) uses this base address to map the PCIe configuration space into its virtual address space.</p></li>
<li><p>The kernel can then access the configuration space of PCIe devices by reading from or writing to specific memory addresses within the MMCFG region.</p></li>
</ol>
</section>
<section id="mmcfg-in-the-linux-kernel">
<h2>MMCFG in the Linux Kernel<a class="headerlink" href="#mmcfg-in-the-linux-kernel" title="Permalink to this heading"></a></h2>
<p>In the Linux kernel, MMCFG support is enabled by the following configuration option:</p>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">CONFIG_PCI_MMCONFIG</span>
</pre></div>
</div>
<ul class="simple">
<li><p>This option enables the use of the memory-mapped configuration space for PCIe devices.</p></li>
<li><p>It is typically enabled by default in modern kernels, as most systems use PCIe and rely on MMCFG for configuration space access.</p></li>
</ul>
</section>
<section id="why-mmcfg-is-important">
<h2>Why MMCFG is Important<a class="headerlink" href="#why-mmcfg-is-important" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>MMCFG provides a faster and more efficient way to access PCIe configuration space compared to the legacy PCI mechanism.</p></li>
<li><p>It is essential for systems with PCIe devices, as it allows the kernel to discover, configure, and manage these devices during boot and runtime.</p></li>
</ul>
<p>If you’re debugging or working with PCIe devices in the Linux kernel, you might encounter references to MMCFG in logs or code related to PCIe initialization and configuration. For example, during boot, the kernel might log the MMCFG base address and the size of the MMCFG region.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="mmioVsIOports.html" class="btn btn-neutral float-left" title="Briefing: Memory-Mapped I/O vs. I/O Ports" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="deadline-iosched.html" class="btn btn-neutral float-right" title="Deadline IO scheduler tunables" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Linux Test Project.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>